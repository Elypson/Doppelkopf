<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>

    <script>
        var ws;
        window.onload = function () {
            var log = (msg) => document.getElementById('output').innerHTML += msg + "<br/>";

            (_ => log("started!"))();

            ws = new WebSocket("wss://localhost:5001/server");

            log(ws.protocol);

            ws.addEventListener('open', function (event) {
                log("opened");
                ws.send('Hello Server!');
            });

            ws.addEventListener('message', function (event) {
                log('Message from server ' + event.data);
            });

            ws.addEventListener('close', function (event) {
                log('Closed');
            });

            
        };</script>
</head>
<body>
    <div id="output"></div>
    <input type="button" value="Send" onclick="ws.send('Button');" />
    <input type="button" value="Close" onclick="ws.close();" />
</body>
</html>
